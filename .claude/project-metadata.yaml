# Project Metadata - Single Source of Truth
# This file is the authoritative source for all project metadata
# Version: 2.1.0 (Updated 2025-12-25)
#
# Template file - customize for your project
# Configured for finance-tracker project

project:
  name: "finance-tracker"
  version_source: pyproject.toml # Single source for version
  description: "Family financial tracking with ODS spreadsheets"

  # Author/maintainer information
  authors:
    - name: "jallen"
      role: "creator"

  maintainers:
    - name: "jallen"
      role: "maintainer"

  # License
  license: "MIT"

  # Python version requirements (for Python projects)
  python:
    minimum: "3.11"
    tested:
      - "3.11"
      - "3.12"
      - "3.13"

  github:
    org: "allenjd1"
    repo: "finance-tracker"
    url: "https://github.com/allenjd1/finance-tracker"

  # Files that must reference the GitHub URL
  url_locations:
    - pyproject.toml
    - README.md
    - CHANGELOG.md

  # Version must be consistent across these files
  version_locations:
    primary: pyproject.toml # Single source of truth
    secondary:
      - README.md: "Current Version: v{version}"
      - "src/finance_tracker/__init__.py": '__version__ = "{version}"'

  # Version pattern for validation (supports pre-release)
  version_pattern: '^[0-9]+\.[0-9]+\.[0-9]+(-[a-z]+(\.[0-9]+)?)?(\+[a-z0-9]+)?$'

maintenance:
  archive_retention_days: 30
  checkpoint_cleanup_threshold_hours: 24
  orphaned_file_check: weekly

  # Automated cleanup schedule
  cleanup:
    stale_agents: "session_start"
    old_checkpoints: "weekly"
    completed_workflows: "session_end"
    archive_retention_days: 180 # Delete archives older than 6 months

validation:
  pre_commit_checks:
    - version_consistency
    - github_url_consistency
    - no_unimplemented_errors
    - ssot_compliance
    - future_marker_validation

  ci_checks:
    - readme_examples
    - internal_links
    - documentation_structure

# Configuration file relationships (for validation)
configuration_files:
  ssot:
    project_metadata: ".claude/project-metadata.yaml"
    coding_standards: ".claude/coding-standards.yaml"
    incomplete_features: ".coordination/spec/incomplete-features.yaml"
    orchestration_config: ".claude/orchestration-config.yaml"

  generated:
    settings_json:
      source: ".claude/coding-standards.yaml"
      target: ".claude/settings.json"
      generator: ".claude/hooks/generate_settings.py"

# Emergency procedures
emergency:
  bypass_env: "CLAUDE_BYPASS_HOOKS"

  recovery:
    checkpoint_dir: ".claude/checkpoints"
    restore_script: ".claude/hooks/restore_checkpoint.sh"
